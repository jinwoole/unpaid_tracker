<script>
    import { ProgressBar } from '@skeletonlabs/skeleton';
    import { Accordion, AccordionItem } from '@skeletonlabs/skeleton';

    export let title = "ì„ê¸ˆì²´ë¶ˆë‚ ì§œíŠ¸ë˜ì»¤";

    const summary1 = "ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚œê±°ì£ ?";
    const summary2 = "ì–¸ì œ í•´ê²°ë  ìˆ˜ ìˆë‚˜ìš”?";
    const summary3 = "ì–´ë–»ê²Œ í•´ì•¼ í•˜ì£ ?";
    
    const answer1 = "ì›”ê¸‰ì´ ì•ˆë‚˜ì™€ìš”! ë„ˆë¬´ ê¸‰ì‘ìŠ¤ëŸ½ê²Œ ë‹¥ì¹œ ì¼ì´ë¼ ì²œ ëª… ë„˜ëŠ” ì‚¬ëŒë“¤ì˜ ì‚¶ì´ ë¶ˆì•ˆì •í•´ì¡Œì–´ìš”.";
    const answer2 = "ì›”ê¸‰ì€ ì–¸ì œ ë“¤ì–´ì˜¬ê¹Œìš”? ëˆ„ê°€ ì˜ì‚¬ê²°ì • ê¶Œí•œì„ ê°–ê³  ìˆì—ˆê³ , ëˆ„ê°€ ì±…ì„ì§€ëŠ” ê±´ê°€ìš”? ëˆ„êµ¬ë„ ì•Œ ìˆ˜ ì—†ì–´ìš”! ì›ë˜ ì„¸ìƒì´ ê·¸ëŸ°ê±´ê°€ë´ìš”!";
    const answer3 = "í•˜ì§€ë§Œ Don't Panic. ê°ì ìƒí™©ì— ë§ì¶° ê¸°ì¤€ì„ ì •í•˜ê³  ìµœì„ ì˜ íŒë‹¨ì„ í•´ë³´ì„¸ìš”. ë„ˆë¬´ ë¹„ê´€ì ì¸ ìƒê°ë„, ë„ˆë¬´ ë‚™ê´€ì ì¸ ìƒê°ë„ ê¸ˆë¬¼.";

    const date = Math.floor((new Date() - new Date(2024, 8, 23)) / (1000 * 60 * 60 * 24));

    const today = new Date();
    const currentDay = today.getDate();
    const currentMonth = today.getMonth();

    const lastPayday = new Date(today);
    lastPayday.setDate(25);
    if (currentDay < 25) {
        lastPayday.setMonth(currentMonth - 1);
    }

    const nextPayday = new Date(today);
    nextPayday.setDate(25);
    if (currentDay >= 25) {
        nextPayday.setMonth(currentMonth + 1);
    }

    const daysSinceLastPayday = Math.floor((today - lastPayday) / (1000 * 60 * 60 * 24));
    const daysUntilNextPayday = Math.floor((nextPayday - today) / (1000 * 60 * 60 * 24));
</script>

<svelte:head>
  <title>{title}</title>
</svelte:head>

<div class="flex justify-center items-center min-h-screen">
    <div class="p-8 w-full sm:w-full md:w-10/12 lg:w-8/12 xl:w-6/12 max-w-2xl">
        <div class="mt-8 text-center text-4xl font-pretendard py-4">
            ì„ê¸ˆì²´ë¶ˆ ê³µì§€ì¼ë¡œë¶€í„°
        </div>
        <div class="text-center text-8xl py-2">
            {date}ì¼ 
        </div>

        <div>
            {#if daysSinceLastPayday === 0}
            <div class="text-center text-xl font-pretendard mt-4">
                ì˜¤ëŠ˜ì€ ìŠˆí¼ì•±ê°™ì€ ì›”ê¸‰ë‚ ! ğŸ‰ğŸ’°ğŸŠğŸ¤®
            </div>
            {:else}
            <div class="text-center text-xl font-pretendard mt-4">
                ì§€ë‚œ ì›”ê¸‰ë‚ ë¡œë¶€í„° {daysSinceLastPayday}ì¼ ì§€ë‚¬ìŠµë‹ˆë‹¤
            </div>
            {/if}
            <div class="text-center text-xl font-pretendard mt-2">
            ë‹¤ìŒ ì›”ê¸‰ë‚ ê¹Œì§€ {daysUntilNextPayday}ì¼ ë‚¨ì•˜ìŠµë‹ˆë‹¤
            </div>
        </div>

        <div class="text-center font-pretendard mt-4">
            ê¸‰ì—¬ ë¡œë”© ì¤‘... (20/100 %)
        </div>
        <div class="w-full sm:w-3/4 md:w-1/2 lg:w-1/3 xl:w-1/4 mx-auto py-2">
            <ProgressBar value={undefined} />
        </div>

        <div class="py-8">
            <Accordion>
                <AccordionItem open>
                    <svelte:fragment slot="lead"><i class="fa-solid fa-question"></i></svelte:fragment>
                    <svelte:fragment slot="summary">{summary1}</svelte:fragment>
                    <svelte:fragment slot="content">{answer1}</svelte:fragment>
                </AccordionItem>
                <AccordionItem>
                    <svelte:fragment slot="lead"><i class="fa-regular fa-clock"></i></svelte:fragment>
                    <svelte:fragment slot="summary">{summary2}</svelte:fragment>
                    <svelte:fragment slot="content">{answer2}</svelte:fragment>
                </AccordionItem>
                <AccordionItem>
                    <svelte:fragment slot="lead"><i class="fa-regular fa-comment"></i></svelte:fragment>
                    <svelte:fragment slot="summary">{summary3}</svelte:fragment>
                    <svelte:fragment slot="content">{answer3}</svelte:fragment>
                </AccordionItem>
            </Accordion>
        </div>
    </div>
</div>
